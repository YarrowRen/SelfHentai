/* ============ Base ============ */
body {
  background-color: var(--bg-color);
  margin: 0;
  padding: 0;
  color: var(--text-color);
  font-family: Arial, Helvetica, sans-serif;
  transition: background-color 0.3s ease, color 0.3s ease;
}

#app {
  position: relative;
  margin: auto;
  margin-top: 0;
  width: 100%;
  max-width: 1500px;
  padding: 5px;
  box-sizing: border-box;
}

/* Home 组件特定的主题变量覆盖 - 默认深色 */
:root {
  --bg-color: #0f172a;
  --text-color: #f1f5f9;
  --surface-color: #1e293b;
  --border-color: #334155;
  --hover-bg: #475569;
}

.my-app-light {
  --bg-color: #faf8f5;
  --text-color: #2d3748;
  --surface-color: #f1ede7;
  --border-color: #d6d3d1;
  --hover-bg: #e7e2dc;
}

.my-app-dark {
  --bg-color: #0f172a;
  --text-color: #f1f5f9;
  --surface-color: #1e293b;
  --border-color: #334155;
  --hover-bg: #475569;
}

/* ============ Provider Toggle Button ============ */
.provider-toggle-btn {
  background-color: #6366f1 !important;
  color: white !important;
  border-color: #6366f1 !important;
  font-weight: 600;
  min-width: 60px;
  position: relative;
  margin-left: 5px;
}

.provider-toggle-btn:hover {
  background-color: #5856eb !important;
  border-color: #5856eb !important;
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(99, 102, 241, 0.3);
}

.provider-toggle-btn::before {
  content: '';
  position: absolute;
  left: -3px;
  top: 50%;
  transform: translateY(-50%);
  width: 1px;
  height: 60%;
  background-color: var(--border-color);
}

/* ============ Popover ============ */
.p-popover {
  background-color: var(--surface-color) !important;
  border: 1px solid var(--border-color) !important;
  color: var(--text-color) !important;
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}
/* 箭头颜色与背景保持一致 */
.p-popover::after {
  border-color: transparent transparent var(--surface-color) transparent !important;
}
.p-popover::before {
  border-color: transparent transparent var(--border-color) transparent !important;
}

/* 封面图片尺寸控制 */
.image-popover img {
  max-width: 300px;
  max-height: 600px;
  width: auto;
  height: auto;
  object-fit: contain;
  border-radius: 4px;
}

.image-popover {
  padding: 2px;
}

/* ============ Paginator (PrimeVue) ============ */
.p-paginator {
  background-color: var(--surface-color) !important;
  border: 1px solid var(--border-color) !important;
  border-radius: 8px;
  margin-top: 20px;
  transition: all 0.3s ease;
}

.p-paginator .p-paginator-page {
  background-color: var(--surface-color) !important;
  color: var(--text-color) !important;
  border: 1px solid var(--border-color) !important;
  transition: all 0.3s ease;
}

.p-paginator .p-paginator-page:hover {
  background-color: var(--hover-bg) !important;
  color: var(--text-color) !important;
  cursor: pointer !important;
}

/* 兼容：新版本 .p-highlight，旧代码 .p-paginator-page-selected */
.container .p-paginator .p-paginator-page.p-highlight,
.container .p-paginator-page-selected {
  background-color: var(--primary-color, #007bff) !important; 
  color: white !important;
  font-weight: bold !important;
  border-color: var(--primary-color, #007bff) !important;
  transform: scale(1.05);
}

.p-paginator .p-paginator-current {
  color: var(--text-color) !important;
}

.p-paginator .p-paginator-first,
.p-paginator .p-paginator-prev,
.p-paginator .p-paginator-next,
.p-paginator .p-paginator-last {
  background-color: var(--surface-color) !important;
  color: var(--text-color) !important;
  border: 1px solid var(--border-color) !important;
  transition: all 0.3s ease;
}

.p-paginator .p-paginator-first:hover,
.p-paginator .p-paginator-prev:hover,
.p-paginator .p-paginator-next:hover,
.p-paginator .p-paginator-last:hover {
  background-color: var(--hover-bg) !important;
}
/* 跳页输入宽度变量（若版本支持） */
.container .p-paginator {
  --p-paginator-jump-to-page-input-max-width: 100px;
}

/* ============ Layout Blocks ============ */
.control-panel {
  width: 70%;
  margin: auto;
  background-color: var(--surface-color);
  padding: 20px;
  border-radius: 8px;
  border: 2px solid var(--border-color);
  display: flex;
  flex-direction: column;
  gap: 20px;
  transition: background-color 0.3s ease, border-color 0.3s ease;
}


.container {
  width: 100%;
  max-width: 1300px;
  background-color: var(--bg-color);
  padding: 20px;
  margin: 0 auto;
  border-radius: 8px;
  color: var(--text-color);
  box-sizing: border-box;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* ============ Buttons / Type Filters ============ */
.button-group {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: 10px;
}

.btn {
  height: 38px;
  font-size: 14px;
  font-weight: bold;
  text-align: center;
  padding: 8px;
  border-radius: 5px;
  border: 1px solid var(--border-color);
  background-color: var(--surface-color);
  color: var(--text-color);
  transition: all 0.3s ease;
  cursor: pointer;
}

.active {
  border: 3px solid #ffffff;
  box-shadow: 0 0 10px 3px #ffffff;
  background-color: rgba(255, 255, 255, 0.2);
  transform: scale(1.01);
  transition: all 0.2s ease-in-out;
}

.type-btn {
  height: 25px;
  flex: 1 1 calc(20% - 10px);  /* 每行5个按钮 */
  max-width: calc(20% - 10px);
}

/* 颜色工具类（用于按钮与 badge），并保留 hover */
.red { background-color: #a22 !important; color: #fff !important; }
.red:hover, .btn.red:hover, .badge.red:hover { background-color: #811 !important; color: #fff !important; }

.orange { background-color: #d67e22 !important; color: #fff !important; }
.orange:hover, .btn.orange:hover, .badge.orange:hover { background-color: #a65511 !important; color: #fff !important; }

.yellow { background-color: #d6a922 !important; color: #fff !important; }
.yellow:hover, .btn.yellow:hover, .badge.yellow:hover { background-color: #a68411 !important; color: #fff !important; }

.green { background-color: #4caf50 !important; color: #fff !important; }
.green:hover, .btn.green:hover, .badge.green:hover { background-color: #3a8f40 !important; color: #fff !important; }

.gold { background-color: #d4af37 !important; color: #fff !important; }
.gold:hover, .btn.gold:hover, .badge.gold:hover { background-color: #a68427 !important; color: #fff !important; }

.lightblue { background-color: #4ca3dd !important; color: #fff !important; }
.lightblue:hover, .btn.lightblue:hover, .badge.lightblue:hover { background-color: #3a7da8 !important; color: #fff !important; }

.blue { background-color: #2a78d6 !important; color: #fff !important; }
.blue:hover, .btn.blue:hover, .badge.blue:hover { background-color: #1f5ba8 !important; color: #fff !important; }

.purple { background-color: #7e57c2 !important; color: #fff !important; }
.purple:hover, .btn.purple:hover, .badge.purple:hover { background-color: #5e4398 !important; color: #fff !important; }

.pink { background-color: #d81b60 !important; color: #fff !important; }
.pink:hover, .btn.pink:hover, .badge.pink:hover { background-color: #a11548 !important; color: #fff !important; }

.gray { background-color: #757575 !important; color: #fff !important; }
.gray:hover, .btn.gray:hover, .badge.gray:hover { background-color: #545454 !important; color: #fff !important; }

/* 覆盖 PrimeVue 按钮默认边框 */
.btn,
.btn.red,
.btn.orange,
.btn.yellow,
.btn.green,
.btn.gold,
.btn.lightblue,
.btn.blue,
.btn.purple,
.btn.pink,
.btn.gray {
  border: none !important; /* 去掉默认绿色边框 */
}

/* ============ Search Bar ============ */
.search-bar {
  display: flex;
  align-items: center;
  gap: 10px;
}

.custom-input {
  flex: 1;
  background-color: var(--surface-color);
  border: 1px solid var(--border-color);
  border-radius: 5px;
  color: var(--text-color);
  padding: 8px 12px;
  font-size: 16px;
  transition: all 0.3s ease;
}

/* 浅色模式下的输入框优化 */
.my-app-light .custom-input {
  background-color: #ffffff;
  border-color: #d6d3d1;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.04);
}

.my-app-light .custom-input:focus {
  background-color: #ffffff;
  border-color: #4caf50;
  box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
}

.custom-input:focus {
  border-color: #4caf50;
  outline: none;
}

.search-btn { 
  background-color: #4caf50 !important; 
  color: #fff !important; 
  border-color: #4caf50 !important;
}
.clear-btn { 
  background-color: #f44336 !important; 
  color: #fff !important; 
  border-color: #f44336 !important;
}

/* ============ Table ============ */
.results-table {
  margin-top: 20px;
  border: 1px solid var(--border-color);
  border-radius: 5px;
  overflow: hidden;
  transition: border-color 0.3s ease;
}

table {
  width: 100%;
  table-layout: fixed;
  border-collapse: collapse;
  background-color: var(--surface-color);
  transition: background-color 0.3s ease;
}

thead {
  background-color: var(--hover-bg);
  color: var(--text-color);
  transition: background-color 0.3s ease, color 0.3s ease;
}

tbody {
  background-color: var(--bg-color);
  transition: background-color 0.3s ease;
}

th, td {
  padding: 10px;
  border-top: 1px solid var(--border-color);
  color: var(--text-color);
  font-size: 14px;
  text-align: left;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  vertical-align: top;
  transition: color 0.3s ease, border-color 0.3s ease;
}

/* Title列允许换行 */
.title-cell {
  white-space: normal !important;
  overflow: visible !important;
  text-overflow: initial !important;
  cursor: pointer;
}

.title-cell:hover {
  background-color: var(--hover-bg) !important;
}

tbody tr:nth-child(even) { 
  background-color: var(--surface-color); 
  transition: background-color 0.3s ease;
}
tbody tr:nth-child(odd) { 
  background-color: var(--bg-color); 
  transition: background-color 0.3s ease;
}
tbody tr:hover {
  background-color: var(--hover-bg) !important;
}

/* 浅色模式下的表格优化 */
.my-app-light tbody tr:nth-child(even) {
  background-color: #ffffff;
}
.my-app-light tbody tr:nth-child(odd) {
  background-color: #faf8f5;
}
.my-app-light tbody tr:hover {
  background-color: #e7e2dc !important;
}

/* 默认列宽 - EX表格 (4列) */
th:nth-child(1), td:nth-child(1) { width: 10%; }
th:nth-child(2), td:nth-child(2) { width: 70%; }
th:nth-child(3), td:nth-child(3) { width: 10%; }
th:nth-child(4), td:nth-child(4) { width: 10%; }

/* JM表格额外列宽 (第5、6列) */
th:nth-child(5), td:nth-child(5) { width: 12%; }
th:nth-child(6), td:nth-child(6) { width: 10%; }

/* JM表格调整前面列宽 */
table.jm-table th:nth-child(1), table.jm-table td:nth-child(1) { width: 10%; }  /* Type */
table.jm-table th:nth-child(2), table.jm-table td:nth-child(2) { width: 8%; }  /* ID */
table.jm-table th:nth-child(3), table.jm-table td:nth-child(3) { width: 50%; }  /* Title */
table.jm-table th:nth-child(4), table.jm-table td:nth-child(4) { width: 15%; }  /* Author */
table.jm-table th:nth-child(5), table.jm-table td:nth-child(5) { width: 7%; }  /* Category */
table.jm-table th:nth-child(6), table.jm-table td:nth-child(6) { width: 10%; }  /* AddTime */

/* JM表格ID列居中对齐 */
table.jm-table td:nth-child(2) {
  text-align: center;
  font-family: monospace;
}

/* JM表格时间列居中对齐 */
table.jm-table td:nth-child(6) {
  text-align: center;
  font-size: 12px;
}

/* 标题与标签 */
.title-container {
  text-align: left;
  white-space: nowrap;
  overflow: hidden;
  margin-bottom: 5px;
  text-overflow: ellipsis;
}

.tags-container {
  display: block;
  text-align: left;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  width: 100%;
  margin-top: 8px;
}

.tags-container .tag {
  display: inline-block;
  margin-right: 5px;
  margin-bottom: 2px;
  white-space: nowrap;
  vertical-align: middle;
  font-size: 11px;
  padding: 2px 6px;
}

/* JM表格中的tags容器允许换行 */
table.jm-table .tags-container {
  white-space: normal;
  overflow: visible;
  text-overflow: initial;
  line-height: 1.3;
}

/* ============ Badges ============ */
.results-table table td:first-child {
  width: 120px;
  white-space: nowrap;
}

.badge {
  display: inline-block;
  padding: 5px 10px;
  border-radius: 5px;
  font-weight: bold;
  color: #fff;
  text-align: center;
  width: 100px;
  white-space: nowrap;
}

/* 两套命名均保留：.badge + 颜色类 以及 .badge-颜色 */
.badge.default, .badge-default { background-color: #333; }

.badge.red, .badge-red { background-color: #a22; }
.badge.orange, .badge-orange { background-color: #d67e22; }
.badge.yellow, .badge-yellow { background-color: #d6a922; }
.badge.green, .badge-green { background-color: #4caf50; }
.badge.gold, .badge-gold { background-color: #d4af37; }
.badge.lightblue, .badge-lightblue { background-color: #4ca3dd; }
.badge.blue, .badge-blue { background-color: #2a78d6; }
.badge.purple, .badge-purple { background-color: #7e57c2; }
.badge.pink, .badge-pink { background-color: #d81b60; }
.badge.gray, .badge-gray { background-color: #757575; }

/* ============ Misc Utilities ============ */
.tag { font-size: 10px; line-height: 0.8; }

.cell-content {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 5px;
}

/* ⚠️不再覆盖评分星星的颜色，保持 PrimeVue 默认外观 */
/* .p-rating .p-rating-icon { color: #f9dc80 !important; }  — 已移除 */

.horizontal-layout {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  flex-wrap: nowrap;
}

.page-input-number { width: 150px !important; }

/* 占位/空态与点击态 */
.title-cell {
  cursor: pointer;
  position: relative;
}
.empty-state {
  text-align: center;
  padding: 24px;
  color: #999;
}
.is-placeholder td {
  height: 48px; /* 仅用于撑开表格高度的占位行 */
}
